{"version":3,"sources":["custom.js"],"names":["document","addEventListener","searchAll","searchValue","searchInput","value","i","lists","length","data","search","j","years","hasChildNodes","parentNode","style","display","k","colleges","yearsInCollege","getElementsByClassName","empty","m","searchOptions","valueNames","getElementById","blogs","listId","id","List","items","console","log"],"mappings":"AAIAA,SAASC,iBAAiB,kBAAmB,WAkC3C,QAASC,KAMP,IAAK,GAHDC,GAAcC,EAAYC,MAGrBC,EAAI,EAAGA,EAAIC,EAAMC,SAAUF,EAClCG,EAAKH,GAAGI,OAAOP,EAIjB,KAAK,GAAIQ,GAAI,EAAGA,EAAIC,EAAMJ,SAAUG,EAC9BC,EAAMD,GAAGE,gBACXD,EAAMD,GAAGG,WAAWC,MAAMC,QAAU,QAEpCJ,EAAMD,GAAGG,WAAWC,MAAMC,QAAU,MAKxC,KAAK,GAAIC,GAAI,EAAGA,EAAIC,EAASV,SAAUS,EAAG,CAIxC,IAAK,GAHDE,GAAiBD,EAASD,GAAGG,uBAAuB,WACpDC,EAAQ,EAEHC,EAAI,EAAGA,EAAIH,EAAeX,SAAUc,EACH,SAApCH,EAAeG,GAAGP,MAAMC,SAC1BK,GAIAA,KAAUF,EAAeX,OAC3BU,EAASD,GAAGF,MAAMC,QAAU,OAE5BE,EAASD,GAAGF,MAAMC,QAAU,SA3ClC,IAAK,GApBDO,IACFC,YACE,OACA,UACA,YAEEf,MAAO,WAKTL,EAAcJ,SAASyB,eAAe,aAEtClB,EAAQP,SAASoB,uBAAuB,WACxCF,EAAWlB,SAASoB,uBAAuB,cAC3CR,EAAQZ,SAASoB,uBAAuB,YAExCX,KACAiB,EAAQ,EAEHpB,EAAI,EAAGA,EAAIC,EAAMC,SAAUF,EAAG,CACrC,GAAIqB,GAASpB,EAAMD,GAAGsB,EAEtBnB,GAAKH,GAAK,GAAIuB,MAAKF,EAAQJ,GAC3BG,GAASjB,EAAKH,GAAGwB,MAAMtB,OAGzBuB,QAAQC,IAAIN,EAAQ,4EACpBK,QAAQC,IAAI,+GAwCR5B,GACFA,EAAYH,iBAAiB,QAASC","file":"custom.js","sourcesContent":["/* jshint -W117 */\n/* jshint -W098 */\n/* jshint -W070 */\n\ndocument.addEventListener('turbolinks:load', function () {\n\n  // LISTJS //\n\n  var searchOptions = {\n    valueNames: [\n      'name',\n      'country',\n      'language',\n      {\n        data: ['year'],\n      },\n    ],\n  };\n\n  var searchInput = document.getElementById('js-search');\n\n  var lists = document.getElementsByClassName('js-list');\n  var colleges = document.getElementsByClassName('js-college');\n  var years = document.getElementsByClassName('js-years');\n\n  var data = [];\n  var blogs = 0;\n\n  for (var i = 0; i < lists.length; ++i) {\n    var listId = lists[i].id;\n\n    data[i] = new List(listId, searchOptions);\n    blogs += data[i].items.length;\n  }\n\n  console.log(blogs + ' blogs and counting. Woohoo! Add yours: http://uwcblogs.com/submissions/');\n  console.log('For developers: found a bug or want to contribute? Visit the GitHub repo: https://github.com/uwc/uwcxblogs.');\n\n  function searchAll() {\n\n    // Get search value.\n    var searchValue = searchInput.value;\n\n    // Search all lists.\n    for (var i = 0; i < lists.length; ++i) {\n      data[i].search(searchValue);\n    }\n\n    // Hide all year numbers without blogs.\n    for (var j = 0; j < years.length; ++j) {\n      if (years[j].hasChildNodes()) {\n        years[j].parentNode.style.display = 'block';\n      } else {\n        years[j].parentNode.style.display = 'none';\n      }\n    }\n\n    // Hide all college names with all years hidden.\n    for (var k = 0; k < colleges.length; ++k) {\n      var yearsInCollege = colleges[k].getElementsByClassName('js-list');\n      var empty = 0;\n\n      for (var m = 0; m < yearsInCollege.length; ++m) {\n        if (yearsInCollege[m].style.display === 'none') {\n          empty++;\n        }\n      }\n\n      if (empty === yearsInCollege.length) {\n        colleges[k].style.display = 'none';\n      } else {\n        colleges[k].style.display = 'block';\n      }\n    }\n  }\n\n  if (searchInput) {\n    searchInput.addEventListener('keyup', searchAll);\n  }\n});\n"]}