{#
 # Layout template
 # ---------------
 #
 # This template defines your site’s global layout. It can be
 # “extended” by other templates to fill in the gaps.
 #
 # See Twig’s Template Inheritance documentation for more details:
 # http://twig.sensiolabs.org/doc/templates.html#template-inheritance
 #}

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="{{ craft.locale }}">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="x-ua-compatible" content="ie=edge">

	{# Enable responsiveness on mobile devices #}
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <link href="http://gmpg.org/xfn/11" rel="profile">

	{% block title %}

		<title>{% if title is defined %}{{ title }} · {% endif %}{{ siteName }}</title>

	{% endblock %}

	{% block styles %}

		{# CSS #}
		{% includeCssFile "/assets/css/styles.css" first %}

	{% endblock %}

	{{ getHeadHtml() }}

	{% block typography %}

	  {# Typekit #}
	  <script src="https://use.typekit.net/rnf3gir.js"></script>
	  <script>
	    try {
	      Typekit.load({
	        async: true
	      });
	    } catch (e) {}
	  </script>

	{% endblock %}

	{# Icons #}
	{# Dynamically generated file by gulp-favicons. #}
  {% include('./_includes/icons.html') %}

	{% block seo %}

		{% set seoImage = globals.siteImage.first() %}
		{% set seoTwitter = globals.twitterHandle %}
		{% set seoDescription = globals.siteDescription %}

		{% if seoDescription %}
			<meta name="description" content="{{ seoDescription }}" />
		{% endif %}

		{# Twitter #}
		<meta name="twitter:card" content="summary" />
		{% if seoTwitter %}
			<meta name="twitter:site" content="{{ seoTwitter }}" />
		{% endif %}
		<meta name="twitter:title" content="{% if title is defined %}{{ title }} · {% endif %}{{ siteName }}" />
		{% if seoDescription %}
			<meta name="twitter:description" content="{{ seoDescription }}" />
		{% endif %}
		{% if seoImage %}
			<meta property="twitter:image" content="{{ seoImage.url }}" />
		{% endif %}

		{# Facebook #}
		<meta property="og:site_name" content="{{ siteName }}" />
		<meta property="og:title" content="{% if title is defined %}{{ title }} · {% endif %}{{ siteName }}" />
		<meta property="og:url" content="{{ craft.request.getPath() }}" />
		{% if seoImage %}
			<meta property="og:image" content="{{ seoImage.url }}" />
		{% endif %}
		{% if seoDescription %}
			<meta property="og:description" content="{{ seoDescription }}" />
		{% endif %}
		<meta property="og:type" content="article" />

	{% endblock %}

	{# Prefetch the pages in the navigation menu #}

	<link rel="home" href="{{ siteUrl }}" />

	{# RSS #}
	<link rel="alternate" type="application/atom+xml" title="Atom" href="/feed.atom">
</head>

<body>
	<div class="body-wrapper">
		{% include('./_includes/metabar.html') %}

		{% block content %}
			<p>If you see me, you haven’t set your <code>{% verbatim %}{% block content %}…{% endblock %}{% endverbatim %}</code> yet.</p>
			<p>See Twig’s <a href="http://twig.sensiolabs.org/doc/templates.html#template-inheritance">Template Inheritance</a> documentation for an explanation.</p>
		{% endblock %}

		{% include('./_includes/footer.html') %}
	</div>

	{% set googleAnalyticsJs %}
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', '{{ globals.googleAnalyticsKey }}', 'auto');
		ga('require', 'linkid');
		ga('send', 'pageview');
	{% endset %}

	{% includeJs googleAnalyticsJs %}

	{% includeJsFile "/assets/js/scripts.js" first %}

	{{ getFootHtml() }}
</body>
</html>
